---
layout: single
title: 'Use Node.js to Read, Process and Write JSON files?'
date: '2018-01-25T21:20:00.000-08:00'
categories: Backend
tags:
- JavaScript
- Node.js
- JSON
---
Learn how to use Node.js to read, process and write JSON files.  

You can use Node to process your JSON files locally.<br />Use Node <a href="https://nodejs.org/api/fs.html" target="_blank">File System</a> API <a href="https://nodejs.org/api/fs.html#fs_fs_readfilesync_path_options" target="_blank">readFileSync</a>&nbsp;to read a JSON file and <a href="https://nodejs.org/api/fs.html#fs_fs_writefile_file_data_options_callback" target="_blank">writeFile</a>&nbsp;to write the output.<br /><div>Before writing to a file, use JSON <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify" target="_blank">stringify</a> to JS Object to a JSON string.</div><div><br />// processJSON.js</div><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">var args = process.argv; // parse argument when the file is being executed</span></div><div><span style="font-family: &quot;monaco&quot;;">var inputFile = args[2] || './input.json';</span></div><div><span style="font-family: &quot;monaco&quot;;">var fs = require('fs');</span></div><div><span style="font-family: &quot;monaco&quot;;">var inputData;</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">inputData = JSON.parse(fs.readFileSync(inputFile, 'utf8'));</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">// process data</span></div><div><span style="font-family: &quot;monaco&quot;;">for (var i = 0; i &lt; inputData.length; i++) {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;inputData[i].index = i;</span></div><div><span style="font-family: &quot;monaco&quot;;">}</span></div><div><br /></div><div><span style="font-family: &quot;monaco&quot;;">fs.writeFile('./output.json', JSON.stringify(inputData, null, 2), (err) =&gt; {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;if (err) {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.error(err);</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;};</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;console.log('Data has been processed');</span></div><div><span style="font-family: &quot;monaco&quot;;">});</span></div></div><br /><div>// input.json</div><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">[</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;{</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;"item": "article1",</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;"title": "title1"</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;},</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;{</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;"item": "article2",</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;"title": "title2"</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;},</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;{</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;"item": "article3",</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;"title": "title3"</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;;">]</span></div></div><br />Run <b>node processJSON.js</b> to process a JSON file. The argument variable is not needed as long as you name your input file as input.json.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-Vgs5s7dTHww/Wr6V3vM9TwI/AAAAAAAAA3E/xg7lLNhbB7sdLDXEOJcrWZgn4Z8lRM-ZwCK4BGAYYCw/s1600/nodejs-process-file.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img alt="Nodejs execute file" border="0" height="224" src="https://4.bp.blogspot.com/-Vgs5s7dTHww/Wr6V3vM9TwI/AAAAAAAAA3E/xg7lLNhbB7sdLDXEOJcrWZgn4Z8lRM-ZwCK4BGAYYCw/s640/nodejs-process-file.png" title="Nodejs execute file" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Nodejs execute file</td></tr></tbody></table><br />Result:<br /><div style="-en-clipboard: true;"><div><br /></div></div><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;">vim output.json&nbsp;</div><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-wMf0awRJ1XE/Wr6WDSYsmPI/AAAAAAAAA3M/RlAShwd0TbI7xFBjryfS7xTNr08X4qTOQCK4BGAYYCw/s1600/nodejs-process-file-output.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img alt="Output.JSON" border="0" height="328" src="https://2.bp.blogspot.com/-wMf0awRJ1XE/Wr6WDSYsmPI/AAAAAAAAA3M/RlAShwd0TbI7xFBjryfS7xTNr08X4qTOQCK4BGAYYCw/s640/nodejs-process-file-output.png" title="Output.JSON" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Output.JSON</td></tr></tbody></table><div style="text-align: center;"><br /></div>Thank you for reading!<br /><br /><a href="http://www.language-diary.com/p/jun711-language-diary.html" target="_blank">Jun</a><br /><br />