---
layout: single
title: "LazyLoading a Component in Angular5"
date: '2018-02-20T20:09:00.004-08:00'
categories: Web
tags:
- LazyLoading
- Angular
---

<div>To lazy load a module on a different url path, you can follow the following steps using <a href="https://cli.angular.io/" target="_blank">Angular CLI</a>:<br />You can check how to verify lazy-loading at the bottom.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://3.bp.blogspot.com/-hi_YZz1C6ZM/Wok61cjz-JI/AAAAAAAAAdU/iWYHhCZQtDoohHyG8wEwNEl2CqkpGUNwQCLcBGAs/s1600/angular-cli-homepage.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img alt="Angular CLI" border="0" data-original-height="580" data-original-width="1375" height="268" src="https://3.bp.blogspot.com/-hi_YZz1C6ZM/Wok61cjz-JI/AAAAAAAAAdU/iWYHhCZQtDoohHyG8wEwNEl2CqkpGUNwQCLcBGAs/s640/angular-cli-homepage.png" title="Angular CLI homepage" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Angular CLI homepage</td></tr></tbody></table><h3><br />Lazy Loading steps</h3>1) Create a new project using routing flag<br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; font-size: 12px; padding: 8px;"><span style="color: #333333; font-family: &quot;monaco&quot;;">ng new popcorn --routing</span></div><br />2) Create a module</div><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; font-size: 12px; padding: 8px;"><span style="color: #333333; font-family: &quot;monaco&quot; , &quot;menlo&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace;">ng generate module modules/movie&nbsp;</span><br /><span style="color: #333333; font-family: &quot;monaco&quot; , &quot;menlo&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace;">ng g m modules/movie&nbsp;</span></div><br />3) Create a component inside the module<br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="background-color: #fbfaf8; border-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.15); box-sizing: border-box; padding: 8px;"><span style="color: #333333; font-family: &quot;monaco&quot;;"><span style="font-size: 12px;">ng generate component ./modules/movies/movies --module ./modules/movies/movies.module.ts</span></span><br /><span style="color: #333333; font-family: &quot;monaco&quot;;"><span style="font-size: 12px;">ng g c ./modules/movies/components/movies --module ./modules/movies/movies.module.ts</span></span></div><br />4) Update your app-routing.module.ts to be so.<br />The routes variable means there is a path 'movies'. When the url points to movies, it will load movies module.<br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">import { NgModule } from '@angular/core';</span></div><div><span style="font-family: &quot;monaco&quot;;">import { RouterModule, Routes } from '@angular/router';</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">const routes: Routes = [</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;{</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;path: 'movies',</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;loadChildren: './modules/movies/movies.module#MoviesModule'</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;;">];</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">@NgModule({</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;imports: [RouterModule.forRoot(routes)],</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;exports: [RouterModule]</span></div><div><span style="font-family: &quot;monaco&quot;;">})</span></div><div><span style="font-family: &quot;monaco&quot;;">export class AppRoutingModule {}</span></div></div><br />5) Update your lazy loading module to be so.<br />When this module is loaded, it will launch MoviesComponent which is my lazy loading component.<br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">import { NgModule } from '@angular/core';</span></div><div><span style="font-family: &quot;monaco&quot;;">import { CommonModule } from '@angular/common';</span></div><div><span style="font-family: &quot;monaco&quot;;">import { RouterModule, Routes } from '@angular/router';</span></div><div><span style="font-family: &quot;monaco&quot;;">import { MoviesComponent } from './movies.component';</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">const routes: Routes = [</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;{</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;path: '',</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;component: MoviesComponent</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;;">];</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">@NgModule({</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;imports: [</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;CommonModule,</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;RouterModule.forChild(routes)</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp; ],</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;providers: [</span><span style="font-family: &quot;monaco&quot;;">],</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;declarations: [</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;MoviesComponent,</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;]</span></div><div><span style="font-family: &quot;monaco&quot;;">})</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">export class MoviesModule {}</span></div></div><br />If you want to have more paths to the component, you can modify path in the routes variable.<br /><div style="background-color: #fbfaf8; border-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.15); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">const routes: Routes = [</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;{</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;path:&nbsp;â€˜recent',</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;component: RecentMoviesComponent</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;;">];</span></div></div><br />6) Use&nbsp;<a href="https://angular.io/api/router/RouterLink">routerLink</a> to set up a link to your lazy loading module in your app.component.html<br /><div><a href="http://app.component.html/"></a></div><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">&lt;main&gt;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&lt;button&gt;&lt;a routerLink="/movies"&gt;&lt;h1&gt;Movies&lt;/h1&gt;&lt;/a&gt;&lt;/button&gt;</span></div><div><span style="font-family: &quot;monaco&quot;;">&lt;/main&gt;</span></div><div><span style="font-family: &quot;monaco&quot;;">&lt;router-outlet&gt;&lt;/router-outlet&gt;</span></div></div><br /><h3>Verification</h3><div>1) Run your app on local host by using ng serve.&nbsp;</div><div>2) Open up your browser inspector / developer tools. On chrome, the shortcut keys to open it is cmd&nbsp;+ alt&nbsp;+ j</div><div>3) You can then switch over to network tab (cmd&nbsp;+ 6 if you have the shortcut key turned on)&nbsp;</div><div>4) Click on the button to load your lazy loading module.&nbsp;</div><div>5) You will notice that its module file is separated from the other source files and only sent when triggered.&nbsp;</div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-IKGJhnRS6DA/Wok9TxE5nLI/AAAAAAAAAdg/GW5Z2eing1oaAkkmDN7yonLGIdG-WzH5ACLcBGAs/s1600/angular-lazyloading-chrome-verification.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="587" data-original-width="1361" height="276" src="https://1.bp.blogspot.com/-IKGJhnRS6DA/Wok9TxE5nLI/AAAAAAAAAdg/GW5Z2eing1oaAkkmDN7yonLGIdG-WzH5ACLcBGAs/s640/angular-lazyloading-chrome-verification.png" width="640" /></a></div><br /><br />Thanks for reading!<br /><br /><a href="http://www.language-diary.com/p/jun711-language-diary.html" target="_blank">Jun</a><br /><div><br /></div>