---
layout: single
title: "Html Click Event Versus Tap-to-click on Mac"
date: '2018-02-22T21:12:00.001-08:00'
categories: Web
tags:
- JavaScript
- HTML
- DOM events
---

Please be cautious with testing click events if you have tap-to-click turned on on your macbook.<br /><h3>DOM events</h3>A <a href="https://developer.mozilla.org/en-US/docs/Web/Events/click" target="_blank">click</a> event comprises a <a href="https://developer.mozilla.org/en-US/docs/Web/Events/mouseup" target="_blank">mousedown</a> and a <a href="https://developer.mozilla.org/en-US/docs/Web/Events/mouseup" target="_blank">mouseup</a> event.<br /><br />Click event is a process of press and release on an element.<br />Mousedown signifies the start of a click event.<br />Mouseup signifies the end of a click event.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://3.bp.blogspot.com/-xRp_uc_Zq50/Wo-ctXpDiVI/AAAAAAAAAjo/cuNYwXsSPfM6B6k57_dTrrztqRszBBDkgCLcBGAs/s1600/mac-tap-to-click.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img alt="Mac Tap to click" border="0" data-original-height="510" data-original-width="660" height="494" src="https://3.bp.blogspot.com/-xRp_uc_Zq50/Wo-ctXpDiVI/AAAAAAAAAjo/cuNYwXsSPfM6B6k57_dTrrztqRszBBDkgCLcBGAs/s640/mac-tap-to-click.png" title="Mac Tap to click" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Mac Tap to click</td></tr></tbody></table><div style="text-align: left;">If you set your trackpad to have 'tap to click' on, please be cautious about click event testing.&nbsp;</div><div style="text-align: left;">A tap to click works as a click when you quickly tap on the track pad and release. I am not sure about the threshold time which qualifies a tap as a tap-to-click. However, if you touch and lift your finger for a millisecond too long, the tap-to-click won't function as a click event.</div><div style="text-align: left;">Thus, at a split of a second, a tap-to-click causes click, mousedown and mousedown events to fire.&nbsp;</div><div style="text-align: left;"><br /></div><div style="text-align: left;"><h3>Bug</h3></div><div style="text-align: left;">I encountered a bug today where a dropdown list listened for a blur event to close a dropdown list and listened for a click event to select a list item.<br /><br />The problem happened when I clicked on a list item, blur event was fired and thus closed my dropdown list before a click event could have been fired.<br /><br />A manual click on track pad or a mouse click tends to be slower than a tap-to-click. <br />It works if I tap-to-click on the trackpad because click event, mousedown and mouseup events are fired fast enough before the dropdown list closes.<br /><br /><a href="https://github.com/Jun711/popcorn/blob/click-mousedown/src/app/components/drop-down-list/drop-down-list.component.html" target="_blank">Source code on GitHub</a><br /><br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="border-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.15); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; padding: 8px;"><div style="background-color: #fbfaf8;"><span style="font-family: &quot;monaco&quot;;">&lt;div role='Listbox' (keyup)='handleKeyUpEvent($event)' (keydown)='handleKeyDownEvent($event)'&gt;</span></div><div><span style="font-family: &quot;monaco&quot;;"><span style="background-color: #fbfaf8;">&nbsp;&nbsp;&lt;span tabIndex='1' </span><span style="background-color: yellow;">(blur)</span><span style="background-color: #fbfaf8;">='listBlur()' (click)='listActivated()'</span></span></div><div style="background-color: #fbfaf8;"><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(click)='toggleDropDownList()'</span></div><div style="background-color: #fbfaf8;"><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ngClass]='titleClasses'&gt;{{ "{{" }}title || 'DropDownList'}}&lt;/span&gt;</span></div><div style="background-color: #fbfaf8;"><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&lt;ul role='List' [ngClass]='listClasses'&gt;</span></div><div style="background-color: #fbfaf8;"><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;li</span></div><div style="background-color: #fbfaf8;"><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;role='Listitem'</span></div><div><span style="font-family: &quot;monaco&quot;;"><span style="background-color: #fbfaf8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="background-color: yellow;">(click)</span><span style="background-color: #fbfaf8;">='selectItem(item)'</span></span></div><div style="background-color: #fbfaf8;"><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*ngFor='let item of listItems; let i = index'</span></div><div style="background-color: #fbfaf8;"><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[class.selected]='i === activeIndex'</span></div><div style="background-color: #fbfaf8;"><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[selected]='i === activeIndex'&gt;{{ "{{" }}i + 1}}: {{ "{{" }}item.data}}</span></div><div style="background-color: #fbfaf8;"><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/li&gt;</span></div><div style="background-color: #fbfaf8;"><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&lt;/ul&gt;</span></div><div style="background-color: #fbfaf8;"><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&lt;span [ngClass]='clearClasses' (click)='deselectItem()'&gt;Clear&lt;/span&gt;</span></div><div style="background-color: #fbfaf8;"><span style="font-family: &quot;monaco&quot;;">&lt;/div&gt;</span></div></div><br /><a href="https://jun711.github.io/popcorn/" target="_blank">GitHub page</a> that uses the dropdown list.<br /><br />Suggestion:<br />Manually click on your Macbook trackpad to make sure your webpage works as intended.<br /><br />Thanks for reading!<br /><br /><a href="http://www.language-diary.com/p/jun711-language-diary.html" target="_blank">Jun</a><br /><br /></div>