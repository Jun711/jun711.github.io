---
layout: single
title: "#Reactjs - What are React Error Boundaries?"
date: '2018-01-15T19:41:00.000-08:00'
author: Jun
tags:
- JavaScript
- ReactNative
- ReactJS
modified_time: '2018-04-02T22:35:23.621-07:00'
thumbnail: https://4.bp.blogspot.com/-ojZS4kgEe5o/WsGKpO_A0aI/AAAAAAAAA6c/xSzW9EC3-hUmHFUwptfszu9gJZNaJ904gCK4BGAYYCw/s72-c/react-error-boundaries.png
blogger_id: tag:blogger.com,1999:blog-2993513364068924658.post-7308546486304855591
blogger_orig_url: https://www.language-diary.com/2018/01/what-are-react-error-boundaries.html
---

<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-ojZS4kgEe5o/WsGKpO_A0aI/AAAAAAAAA6c/xSzW9EC3-hUmHFUwptfszu9gJZNaJ904gCK4BGAYYCw/s1600/react-error-boundaries.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img alt="React Error Boundaries" border="0" height="422" src="https://4.bp.blogspot.com/-ojZS4kgEe5o/WsGKpO_A0aI/AAAAAAAAA6c/xSzW9EC3-hUmHFUwptfszu9gJZNaJ904gCK4BGAYYCw/s640/react-error-boundaries.png" title="React Error Boundaries" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">React Error Boundaries</td></tr></tbody></table><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: left;">When I was running some Jest tests, I got a suggestion on using&nbsp;<a href="https://fb.me/react-error-boundaries" target="_blank">react-error-boundaries</a>.</div>It is similar to JavaScript catch blocks but it is for React components starting from React 16.<br />It is used to handle an error in JavaScript that break the UI rendering of the app.<br /><br />Taken from the document:<br /><span style="font-family: , , &quot;segoe ui&quot; , &quot;roboto&quot; , &quot;oxygen&quot; , &quot;ubuntu&quot; , &quot;cantarell&quot; , &quot;fira sans&quot; , &quot;droid sans&quot; , &quot;helvetica neue&quot; , sans-serif; font-size: 17px;">Error boundaries are React components that&nbsp;</span><span style="box-sizing: inherit; font-family: , , &quot;segoe ui&quot; , &quot;roboto&quot; , &quot;oxygen&quot; , &quot;ubuntu&quot; , &quot;cantarell&quot; , &quot;fira sans&quot; , &quot;droid sans&quot; , &quot;helvetica neue&quot; , sans-serif; font-size: 17px; font-weight: bolder; margin: 0px; padding: 0px;">catch JavaScript errors anywhere in their child component tree, log those errors, and display a fallback UI</span><span style="font-family: , , &quot;segoe ui&quot; , &quot;roboto&quot; , &quot;oxygen&quot; , &quot;ubuntu&quot; , &quot;cantarell&quot; , &quot;fira sans&quot; , &quot;droid sans&quot; , &quot;helvetica neue&quot; , sans-serif; font-size: 17px;">&nbsp;instead of the component tree that crashed.</span><br /><br />By we define componentDidCatch function in a component, that component can act as an error boundary / 'catcher'<br /><br /><span style="background-color: rgba(255 , 229 , 100 , 0.2); color: #1a1a1a; font-family: , &quot;menlo&quot; , &quot;monaco&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace; font-size: 16px;">componentDidCatch(error, info)</span><br /><br />Taken from the document:<br /><span style="background-color: rgba(255 , 229 , 100 , 0.2); color: #1a1a1a; font-family: , &quot;menlo&quot; , &quot;monaco&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace; font-size: 16px;"><!--?xml version="1.0" encoding="UTF-8"?-->  </span><br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">componentDidCatch(error, info) {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;/* <br />&nbsp; &nbsp; &nbsp;info is an object with componentStack key</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp; &nbsp; &nbsp;Example stack information:</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in ComponentThatThrows (created by App)</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in ErrorBoundary (created by App)</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in div (created by App)</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in App</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;*/</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;logComponentStackToMyService(info.componentStack);</span></div><div><span style="font-family: &quot;monaco&quot;;">}</span></div></div><br /><div>How to use it? Taken from the document:<br />Regarding the error reporting service, I have used <a href="https://sentry.io/welcome/" target="_blank">sentry</a> before. It reports errors happening in your app installed on your users' devices.&nbsp;</div><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">class ErrorBoundary extends React.Component {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;constructor(props) {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;super(props);</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;this.state = { hasError: false };</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;}</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;componentDidCatch(error, info) {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;// Display fallback UI</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;this.setState({ hasError: true });</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;// You can also log the error to an error reporting service</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;logErrorToMyService(error, info);</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;render() {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;if (this.state.hasError) {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// You can render any custom fallback UI</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return &lt;h1&gt;Something went wrong.&lt;/h1&gt;;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;return this.props.children;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;;">}</span></div></div><br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">&lt;ErrorBoundary&gt;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&lt;MyWidget /&gt;</span></div><div><span style="font-family: &quot;monaco&quot;;">&lt;/ErrorBoundary&gt;</span></div></div><br />And, this was how I noticed react-error-boundaries:<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://1.bp.blogspot.com/-261lmKhgbG4/WsGMRbmiFPI/AAAAAAAAA6s/is9ZolgOwGIsJQt-hZc3e2N7V8DvmwHRQCLcBGAs/s1600/react-error-boundaries-suggestion.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img alt="React Error Boundaries suggestion" border="0" data-original-height="383" data-original-width="869" height="282" src="https://1.bp.blogspot.com/-261lmKhgbG4/WsGMRbmiFPI/AAAAAAAAA6s/is9ZolgOwGIsJQt-hZc3e2N7V8DvmwHRQCLcBGAs/s640/react-error-boundaries-suggestion.png" title="React Error Boundaries suggestion" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">React Error Boundaries suggestion</td></tr></tbody></table><div class="separator" style="clear: both; text-align: center;"><br /></div><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div>ParkingSpotDetail Component</div><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">import React, { Component } from 'react'</span></div><div><span style="font-family: &quot;monaco&quot;;">import { Text, ScrollView, View } from 'react-native'</span></div><div><span style="font-family: &quot;monaco&quot;;">import styles from './ParkingSpotDetailStyles'</span></div><div><span style="font-family: &quot;monaco&quot;;">import IconWithText from '..././../../components/IconWithText/IconWithText'</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">export default class ParkingSpotDetail extends Component {</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;constructor(props) {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;super(props)</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;this._presentRate = this.props.presentRateText</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;this._hourCount = this.props.presentTimeLimitText &amp;&amp; this.props.presentTimeLimitText.startsWith('no') ?</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'There is no time limit.' : `Time limit is ${this.props.presentTimeLimitText}.`</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;}</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;render() {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;return (</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ScrollView style={styles.container}&gt;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;View&gt;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;IconWithText</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;icon='money'</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message={`It is ${this._presentRate} now.`}</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&gt;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;IconWithText</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;icon='hourglass-start'</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message={this._hourCount}</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&gt;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/View&gt;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Text</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allowFontScaling={true}</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;style={styles.detailText}&gt;{this.props.calloutDetail}&lt;/Text&gt;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ScrollView&gt;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;)</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;;">}</span></div></div><br /><div><div>ParkingSpotDetail snapshot test</div></div><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">import 'react-native'</span></div><div><span style="font-family: &quot;monaco&quot;;">import React from 'react'</span></div><div><span style="font-family: &quot;monaco&quot;;">import ParkingSpotDetail from '../ParkingSpotDetail'</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">// Note: test renderer must be required after react-native.</span></div><div><span style="font-family: &quot;monaco&quot;;">import renderer from 'react-test-renderer'</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">describe('&lt;ParkingSpotDetail /&gt;', () =&gt; {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;it('ParkingSpotDetail renders correctly', () =&gt; {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;const parkingSpotDetailComponent = renderer.create(</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ParkingSpotDetail/&gt;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;).toJSON()</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;expect(parkingSpotDetailComponent).toMatchSnapshot()</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;})</span></div><div><span style="font-family: &quot;monaco&quot;;">})</span></div></div><br />I need to check to make sure&nbsp;<span style="background-color: #fbfaf8; color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">this.props.presentTimeLimitText&nbsp;</span>&nbsp;exists like the following:<br /><div style="background-color: #fbfaf8; border-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.15); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">this._hourCount = this.props.presentTimeLimitText &amp;&amp; this.props.presentTimeLimitText.startsWith('no') ?</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'There is no time limit.' : `Time limit is ${this.props.presentTimeLimitText}.`</span></div></div><br />Thank you for reading!<br /><br /><a href="http://www.language-diary.com/p/jun711-language-diary.html" target="_blank">Jun</a>