---
layout: single
title: 'How to import #aws sdk #sqs from #amplify library? '
date: '2018-08-03T20:50:00.000-07:00'
author: Jun
tags:
- sqs
- amplify
- aws
modified_time: '2018-08-22T14:31:22.045-07:00'
blogger_id: tag:blogger.com,1999:blog-2993513364068924658.post-5901310510268132272
blogger_orig_url: https://www.language-diary.com/2018/08/how-to-import-aws-sqs-from-amplify.html
---

If you are using&nbsp;<a href="https://aws.github.io/aws-amplify/media/api_guide" target="_blank">aws Amplify library</a>&nbsp;(I use 0.4.3 at the moment) in an Angular project&nbsp;and trying to use Simple Queue Service(SQS) from aws-sdk library, you may run into some problem trying to import SQS service.<br /><br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div>If you do it the way they do it in the following example, you may get some errors importing SQS:<br /><!--?xml version="1.0" encoding="UTF-8"?-->  </div><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">import Route53 from 'aws-sdk/clients/route53';</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">Auth.currentCredentials()</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;.then(credentials =&gt; {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;const route53 = new Route53({</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apiVersion: '2013-04-01',</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;credentials: Auth.essentialCredentials(credentials)</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;});</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;// more code working with route53 object</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;// route53.changeResourceRecordSets();</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;})</span></div></div>source: <a href="https://aws-amplify.github.io/amplify-js/media/authentication_guide.html#working-with-aws-service-objects" target="_blank">Amplify doc</a><br /><br />Errors that I got in the process of making it work are these:<br /><div style="background-color: #fbfaf8; border-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.15); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; padding: 8px;"><span style="font-family: &quot;monaco&quot;;">import fails with 'no default export'</span></div><div><br /></div><div style="background-color: #fbfaf8; border-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.15); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; padding: 8px;"><span style="font-family: &quot;monaco&quot;;">Cannot use 'new' with an expression whose type lacks a call or construct signature.</span></div><div><h4>Attempts:</h4>1) <br />I have tried suggestions by adding the following compilerOptions according to suggestions in this <a href="https://github.com/Microsoft/TypeScript-React-Starter/issues/8" target="_blank">Typescript-React-Starter Github thread</a>.<br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">"compilerOptions": {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp; "allowSyntheticDefaultImports": true,</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp; "esModuleInterop": true,</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp; "module": "es2015",</span></div><div><span style="font-family: &quot;monaco&quot;;">}</span></div></div><br />I still couldn't import using the import syntax<br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; padding: 8px;"><span style="font-family: &quot;monaco&quot;;">import SQS from 'aws-sdk/clients/sqs';</span></div><br />2)<br />I tried to import using the following syntax.<br /><div style="-en-clipboard: true;"></div><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; padding: 8px;"><span style="font-family: &quot;monaco&quot;;">import * as SQS from 'aws-sdk/clients/sqs';</span></div><br />With this, I didn't get 'no default export' error but this new error:<br /><div style="-webkit-text-stroke-width: 0px; color: black; font-family: Times; font-size: medium; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-decoration-color: initial; text-decoration-style: initial; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px;"></div><br /><div style="-webkit-text-stroke-width: 0px; background-color: #fbfaf8; border-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.15); box-sizing: border-box; color: #333333; font-family: monaco, menlo, consolas, &quot;courier new&quot;, monospace; font-size: 12px; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; letter-spacing: normal; orphans: 2; padding: 8px; text-align: start; text-decoration-color: initial; text-decoration-style: initial; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px;"><div style="margin: 0px;"><span style="font-family: &quot;monaco&quot;;">Cannot use 'new' with an expression whose type lacks a call or construct signature.</span></div></div><br />I, then, read the discussions on these 2 Github threads which seem to suggest the change export syntax.<br />i) https://github.com/fengyuanchen/cropperjs/issues/305<br />ii) https://github.com/krisk/Fuse/issues/137<br /><br />If you modify aws-sdk/clients/sqs.d.ts to the following, you can import SQS.<br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">// export = SQS;</span></div><div><span style="font-family: &quot;monaco&quot;;">export default SQS;<br /><br />// in your file</span></div><div><!--?xml version="1.0" encoding="UTF-8"?-->  <span style="font-family: &quot;monaco&quot;;">import SQS from 'aws-sdk/clients/sqs';</span></div></div><h4>Solution:&nbsp;</h4></div><div>However, at the moment, this is a preferred method for me by using require instead of import</div><div><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">const SQS = require('aws-sdk/clients/sqs');</span></div><div><span style="font-family: &quot;monaco&quot;;"><br /></span></div><div><span style="font-family: &quot;monaco&quot;;">Auth.currentCredentials()</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;.then(credentials =&gt; {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;const sqs&nbsp;= new SQS({</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apiVersion: '2013-04-01',</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;credentials: Auth.essentialCredentials(credentials)</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;});</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;// more code working with route53 object</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;// route53.changeResourceRecordSets();</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;})</span></div></div></div>source:&nbsp;<a href="https://github.com/ethereum/web3.js/issues/1491">https://github.com/ethereum/web3.js/issues/1491</a><br /><br />For more information, you can check out the following StackOverflow threads&nbsp;for some discussion about require vs import.<br />1) <a href="https://stackoverflow.com/questions/35706164/typescript-import-as-vs-import-require" target="_blank">Typescript import/as vs import/require?&nbsp;</a><br />2) <a href="https://stackoverflow.com/questions/29596714/new-es6-syntax-for-importing-commonjs-amd-modules-i-e-import-foo-require" target="_blank">New es6 syntax for importing commonjs / amd modules i.e. `import foo = require('foo')`</a><br /><br />Thanks for reading!<br /><br /><a href="http://www.language-diary.com/p/jun711-language-diary.html" target="_blank">Jun</a><br /><br />