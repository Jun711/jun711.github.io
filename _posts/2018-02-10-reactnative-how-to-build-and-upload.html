---
layout: single
title: "#ReactNative - How to build and upload your app to #GooglePlay?"
date: '2018-02-10T20:59:00.000-08:00'
author: Jun
tags:
- GooglePlay
- ReactNative
- Android
modified_time: '2018-04-09T23:11:39.186-07:00'
thumbnail: https://4.bp.blogspot.com/-6pgNqKLlS6w/WneB_E1FllI/AAAAAAAAARE/gyyjcACIsyoq_ROSGc7oduh5J9nUeAToACEwYBhgL/s72-c/Google-play-developer.png
blogger_id: tag:blogger.com,1999:blog-2993513364068924658.post-521032772506747870
blogger_orig_url: https://www.language-diary.com/2018/02/reactnative-how-to-build-and-upload.html
---

<h3>How to upload a React Native app to Google Play - Alpha, Beta or Production</h3><ol><li>Test your app using Jest and make sure it runs on your phones or simulators.</li><li>Go to package.json to edit app version, description, author etc if it hasn't been done yet.</li><li>Go to app.json file to update the description if needed.</li><li>Generate signed APK. Detailed steps(step 5-12 can be found here on <a href="https://facebook.github.io/react-native/docs/signed-apk-android.html" target="_blank">React Native site</a>.</li><li>On linux based OS, run this command to generate a signing key. It will prompt you for some information such as password.<div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><span style="font-family: &quot;monaco&quot;;">keytool -genkey -v -keystore my-release-key.keystore -alias my-key-alias -keyalg RSA -keysize 2048 -validity 10000</span></div></li><li>Place the my-release-key.keystore file under the android/app directory in your project folder.</li><li>Edit the file ~/.gradle/gradle.properties or android/gradle.properties and add the following (replace ***** with the correct keystore password, alias and key password)<br />Make sure your keep the following information securely. If not, you will have to remake your keystore.<br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">MYAPP_RELEASE_STORE_FILE=my-release-key.keystore&nbsp;</span></div><div><span style="font-family: &quot;monaco&quot;;">MYAPP_RELEASE_KEY_ALIAS=my-key-alias&nbsp;</span></div><div><span style="font-family: &quot;monaco&quot;;">MYAPP_RELEASE_STORE_PASSWORD=*****&nbsp;</span></div><div><span style="font-family: &quot;monaco&quot;;">MYAPP_RELEASE_KEY_PASSWORD=*****</span></div></div></li><li>Then, edit the android/app/build.gradle in your project folder and add the signing config:<br /><!--?xml version="1.0" encoding="UTF-8"?-->  <div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;; font-size: 11px;">...</span></div><div><span style="font-family: &quot;monaco&quot;; font-size: 11px;">android {</span></div><div><span style="font-family: &quot;monaco&quot;; font-size: 11px;">&nbsp;&nbsp;&nbsp;&nbsp;...</span></div><div><span style="font-family: &quot;monaco&quot;; font-size: 11px;">&nbsp;&nbsp;&nbsp;&nbsp;defaultConfig { ... }</span></div><div><span style="font-family: &quot;monaco&quot;; font-size: 11px;">&nbsp;&nbsp;&nbsp;&nbsp;signingConfigs {</span></div><div><span style="font-family: &quot;monaco&quot;; font-size: 11px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;release {</span></div><div><span style="font-family: &quot;monaco&quot;; font-size: 11px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (project.hasProperty('MYAPP_RELEASE_STORE_FILE')) {</span></div><div><span style="font-family: &quot;monaco&quot;; font-size: 11px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storeFile file(MYAPP_RELEASE_STORE_FILE)</span></div><div><span style="font-family: &quot;monaco&quot;; font-size: 11px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storePassword MYAPP_RELEASE_STORE_PASSWORD</span></div><div><span style="font-family: &quot;monaco&quot;; font-size: 11px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keyAlias MYAPP_RELEASE_KEY_ALIAS</span></div><div><span style="font-family: &quot;monaco&quot;; font-size: 11px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keyPassword MYAPP_RELEASE_KEY_PASSWORD</span></div><div><span style="font-family: &quot;monaco&quot;; font-size: 11px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;; font-size: 11px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;; font-size: 11px;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;; font-size: 11px;">&nbsp;&nbsp;&nbsp;&nbsp;buildTypes {</span></div><div><span style="font-family: &quot;monaco&quot;; font-size: 11px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;release {</span></div><div><span style="font-family: &quot;monaco&quot;; font-size: 11px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span></div><div><span style="font-family: &quot;monaco&quot;; font-size: 11px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;signingConfig signingConfigs.release</span></div><div><span style="font-family: &quot;monaco&quot;; font-size: 11px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;; font-size: 11px;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;; font-size: 11px;">}</span></div><div><span style="font-family: &quot;monaco&quot;; font-size: 11px;">...</span></div></div></li><li>Note that to reduce APK size by architecture, set the following line&nbsp;in android/app/build.gradle file as true.<br /><div style="background-color: #fbfaf8; border-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.15); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; padding: 8px;"><span style="font-family: &quot;monaco&quot;;">def enableSeparateBuildPerCPUArchitecture = true</span></div></li><li>Then, in your root app folder, run this command to build:<br /><!--?xml version="1.0" encoding="UTF-8"?-->  <div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><span style="font-family: &quot;monaco&quot;;">cd android &amp;&amp; ./gradlew assembleRelease</span></div></li><li>You can test your release build by running this command:<br /><!--?xml version="1.0" encoding="UTF-8"?-->  <div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><span style="font-family: &quot;monaco&quot;;">react-native run-android --variant=release</span></div></li><li>The generated APK(s) can be found via this path:<br /><!--?xml version="1.0" encoding="UTF-8"?-->  <div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><span style="font-family: &quot;monaco&quot;;">android/app/build/outputs/apk/app-release.apk</span></div></li><li>Create a&nbsp;<a href="https://play.google.com/apps/publish/" target="_blank">Google Play Developer account</a>&nbsp;by paying some fee.<br /><br /><div style="text-align: center;"><a href="https://4.bp.blogspot.com/-6pgNqKLlS6w/WneB_E1FllI/AAAAAAAAARE/gyyjcACIsyoq_ROSGc7oduh5J9nUeAToACEwYBhgL/s1600/Google-play-developer.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><br /></a> <br /><div style="-webkit-text-stroke-width: 0px; color: black; font-family: Times; font-size: medium; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: center; text-decoration-color: initial; text-decoration-style: initial; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px;"><div style="margin: 0px;"></div></div><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="-webkit-text-stroke-width: 0px; float: left; font-family: Times; letter-spacing: normal; margin-bottom: 0.5em; margin-right: 1em; orphans: 2; padding: 6px; text-align: left; text-decoration-color: initial; text-decoration-style: initial; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px;"><tbody><tr><td style="text-align: center;"><div style="margin: 0px;"><img alt="Google Play Developer account" border="0" data-original-height="352" data-original-width="1084" height="126" src="https://4.bp.blogspot.com/-6pgNqKLlS6w/WneB_E1FllI/AAAAAAAAARE/gyyjcACIsyoq_ROSGc7oduh5J9nUeAToACEwYBhgL/s400/Google-play-developer.png" style="margin-left: auto; margin-right: auto;" title="Google Play Console" width="400" /></div></td></tr><tr><td class="tr-caption" style="font-size: 12.8px; padding-top: 4px; text-align: center;"><div style="margin: 0px;">Google Play Console</div></td></tr></tbody></table><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /></div></li><li>Prepare graphic assets. The following seems to be the minimum needed now.&nbsp;<div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">Screenshots</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">Default – English (United States) – en-US</span></div><div><span style="font-family: &quot;monaco&quot;;">JPEG or 24-bit PNG (no alpha). Min length for any side: 320px. Max length for any side: 3840px.</span></div></div><div><br /></div><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">Hi-res icon</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">Default – English (United States) – en-US</span></div><div><span style="font-family: &quot;monaco&quot;;">512 x 512</span></div><div><span style="font-family: &quot;monaco&quot;;">32-bit PNG (with alpha)</span></div></div><div><br /></div><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">Feature Graphic</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">Default – English (United States) – en-US</span></div><div><span style="font-family: &quot;monaco&quot;;">1024 w x 500 h</span></div><div><span style="font-family: &quot;monaco&quot;;">JPG or 24-bit PNG (no alpha)</span></div></div></li><li>Prepare a <a href="https://developers.google.com/actions/policies/privacy-policy-guide" target="_blank">privacy policy</a>&nbsp;if you app requires sensitive permission or users' information such as&nbsp; Camera, Contacts,&nbsp; Location, Microphone etc. <br />You can see the list of normal and dangerous permissions here on <a href="https://developer.android.com/guide/topics/permissions/requesting.html#normal-dangerous" target="_blank">Android site</a>.<br />You can use <a href="https://sites.google.com/new" target="_blank">Google Sites</a> or a <a href="https://gist.github.com/" target="_blank">GitHub gist</a> to host it.</li><li>Besides filling out the app's description in Store listing section, there are three other sections that you have to take care of. They are Content rating, Pricing and distribution and App releases.</li><li>When you have check marks for all these 4 sections, you can proceed to release your app.<br /><br /><br /><a href="https://2.bp.blogspot.com/-7_UDc2FIheU/WneAS4btCHI/AAAAAAAAAQ4/96DCOoPrBN4uRXLI1biLXnTJBo9UMPkjQCLcBGAs/s1600/Google-play-requirements.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em; text-align: center;"><img border="0" data-original-height="710" data-original-width="297" height="640" src="https://2.bp.blogspot.com/-7_UDc2FIheU/WneAS4btCHI/AAAAAAAAAQ4/96DCOoPrBN4uRXLI1biLXnTJBo9UMPkjQCLcBGAs/s640/Google-play-requirements.png" width="265" /></a></li><li>Go App releases to add your APKs that you built.&nbsp;</li><li>To release your app, at App release section, scroll down to bottom and click Review.</li><li>If you have filled out all 4 sections, you will be able to upload your App to Google Play.&nbsp;</li><li>If the button 'Start Rollout To Production' is greyed out, that means some of the sections are not completed. Refer to the image above. Green check mark means good to proceed.</li><li>Follow the instructions and provide all the information needed.</li><li>You are all set to upload your App to Google Play app store. Yay!</li></ol><div>Note:</div><div>1)&nbsp;</div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://3.bp.blogspot.com/-upe7_pTDYs4/Wnd-eBYKgbI/AAAAAAAAAQs/V1hWcJe_dc4sDSabBnyfVcLRGQBbZbQzQCLcBGAs/s1600/gradle-node-command.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img alt="command node error message" border="0" data-original-height="268" data-original-width="829" height="204" src="https://3.bp.blogspot.com/-upe7_pTDYs4/Wnd-eBYKgbI/AAAAAAAAAQs/V1hWcJe_dc4sDSabBnyfVcLRGQBbZbQzQCLcBGAs/s640/gradle-node-command.png" title="Gradle-build-problem" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">A problem occurred starting process 'command 'node''</td></tr></tbody></table><div><br />If you get the above error:&nbsp;A problem occurred starting process 'command 'node'',</div><div>It is probably you have your Android Studio open as it launches with custom env variables and thus can't node in your PATH.</div><div>Check out this <a href="https://github.com/facebook/react-native/issues/6875" target="_blank">GitHub issue</a> for more information.&nbsp;</div><div><br /></div><div>2)&nbsp;</div><div>When you are ready to release a new build, you have to increase Android version code in your build.gradle at android/app/build.gradle and AndroidManifest.xml at android/app/src/main/AndroidManifest.xml</div><div>Check out <a href="https://developer.android.com/studio/publish/versioning.html" target="_blank">Android document</a>.&nbsp;</div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://1.bp.blogspot.com/-jVonCesfKnA/WneFmDMvEgI/AAAAAAAAARc/J0zH8sRv06IurjL7wG047De_ZEnNyeTcwCLcBGAs/s1600/android-build-gradle.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img alt="Android build Version Code" border="0" data-original-height="215" data-original-width="350" height="245" src="https://1.bp.blogspot.com/-jVonCesfKnA/WneFmDMvEgI/AAAAAAAAARc/J0zH8sRv06IurjL7wG047De_ZEnNyeTcwCLcBGAs/s400/android-build-gradle.png" title="Android build.gradle Version Code" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Android build.gradle Version Code</td></tr></tbody></table><div><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://3.bp.blogspot.com/-xdhH641hNWI/WneEKMPrk5I/AAAAAAAAARQ/nn1ugtW84igI6tndUZl0r4rMgyXIyK0kwCLcBGAs/s1600/androidManifest-versionCode.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img alt="Android versionCode" border="0" data-original-height="174" data-original-width="714" height="154" src="https://3.bp.blogspot.com/-xdhH641hNWI/WneEKMPrk5I/AAAAAAAAARQ/nn1ugtW84igI6tndUZl0r4rMgyXIyK0kwCLcBGAs/s640/androidManifest-versionCode.png" title="Android Manifest - versionCode" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Android Manifest Version Code</td></tr></tbody></table><div><br /></div><br class="Apple-interchange-newline" />Thank you for reading!<br /><br /><a href="http://www.language-diary.com/p/jun711-language-diary.html" target="_blank">Jun</a><br /><div><br /></div>