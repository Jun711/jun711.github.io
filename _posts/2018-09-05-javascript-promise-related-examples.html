---
layout: single
title: "#javascript #promise related examples"
date: '2018-09-05T00:55:00.001-07:00'
author: Jun
tags:
- JavaScript
modified_time: '2018-09-08T21:17:35.848-07:00'
thumbnail: https://4.bp.blogspot.com/-A85Flcp2njo/Wq8dTkBfCqI/AAAAAAAAAsI/ZmFHMr3kgS8r6YmX0k8VMDj1n2ERR7-ogCLcBGAs/s72-c/mdn-promise.png
blogger_id: tag:blogger.com,1999:blog-2993513364068924658.post-8523550834069342185
blogger_orig_url: https://www.language-diary.com/2018/09/javascript-promise-related-examples.html
---

I would like to share some of my experience with javascript Promise. I will add on to this list when I have more promise examples to share.<br /><h3>Promise</h3>Taken from MDN: <br />The <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank">Promise</a> object represents the eventual completion (or failure) of an asynchronous operation, and its resulting value.<br /><br />A Promise has 3 states:<br />i) pending: initial state when a promise has not been fulfilled nor rejected yet.<br />ii) fulfilled: the operation within a promise is executed successfully.<br />iii) rejected: the operation within a promise failed to complete.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: left;"><tbody><tr><td style="text-align: center;"><a href="https://4.bp.blogspot.com/-A85Flcp2njo/Wq8dTkBfCqI/AAAAAAAAAsI/ZmFHMr3kgS8r6YmX0k8VMDj1n2ERR7-ogCLcBGAs/s1600/mdn-promise.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="345" data-original-width="686" height="320" src="https://4.bp.blogspot.com/-A85Flcp2njo/Wq8dTkBfCqI/AAAAAAAAAsI/ZmFHMr3kgS8r6YmX0k8VMDj1n2ERR7-ogCLcBGAs/s640/mdn-promise.png" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">MDN Promise handling and chaining</td></tr></tbody></table><div style="text-align: left;"></div><h3>Promise related examples</h3>1) Wrapping functions that return a callback with a promise<br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div>// a function that takes a callback function</div><div>function foo(type<span style="font-family: &quot;monaco&quot;;">, callback) {</span> </div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;</span><span style="font-family: &quot;monaco&quot;;">callback(type);</span></div><div><span style="font-family: &quot;monaco&quot;;">}</span></div></div><br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">function fooPromise(param) {</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp;&nbsp;&nbsp;&nbsp;return new Promise(function(resolve, reject) {</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>foo<span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">(param, (err, res) =&gt; {</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (err !== null)&nbsp;</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;reject(err);</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolve(res);</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp;&nbsp;&nbsp;&nbsp;});</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">}</span></div></div><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><br />2) Returning a promise within a promise:<br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; font-size: 12px; padding: 8px;"><div><span style="color: #333333; font-family: &quot;monaco&quot;;">var innerPromise = function() {</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;">&nbsp;&nbsp;return new Promise(function(resolve, reject) {</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;setTimeout(() =&gt; resolve("innerPromise fulfilled"), 1000);</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;">&nbsp;&nbsp;});</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;">}</span></div><div><br style="color: #333333; font-family: Monaco;" /></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;">var outerPromise = function() {</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;">&nbsp; // return a promise that contains another promise</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;">&nbsp;&nbsp;return new Promise(function(resolve, reject) {</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;">&nbsp; &nbsp; // calling innerPromise</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;">&nbsp; &nbsp;&nbsp;</span><span style="color: #333333; font-family: &quot;monaco&quot;;">innerPromise</span><span style="color: #333333; font-family: &quot;monaco&quot;;">().then(function(res) {</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;">&nbsp; &nbsp; &nbsp; &nbsp;// innerPromise is done</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;">&nbsp; &nbsp; &nbsp; &nbsp;console.log(res);</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;">&nbsp; &nbsp; &nbsp; &nbsp;// resolve with some value / object&nbsp;</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setTimeout(() =&gt; resolve("</span><span style="color: #333333; font-family: &quot;monaco&quot;;">outerPromise fulfilled</span><span style="color: #333333; font-family: &quot;monaco&quot;;">"), 1000);</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;})</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;">&nbsp;&nbsp;});</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;">}</span></div><div><br style="color: #333333; font-family: Monaco;" /></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;">outerPromise</span><span style="color: #333333; font-family: &quot;monaco&quot;;">()</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;">&nbsp; .then(res =&gt; console.log(res))</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;">&nbsp; .catch(err =&gt; console.log(err));&nbsp;</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;"><br /></span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;">// on console</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;">//&nbsp;</span><span style="color: #333333; font-family: &quot;monaco&quot;;">innerPromise fulfilled</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;">//&nbsp;</span><span style="color: #333333; font-family: &quot;monaco&quot;;">outerPromise fulfilled</span></div></div><br />I will keep updating this list. Thanks for reading!<br /><br /><a href="http://www.language-diary.com/p/jun711-language-diary.html" target="_blank">Jun</a><br /><a href="https://www.amazon.ca/?&amp;_encoding=UTF8&amp;tag=jun7110a-20&amp;linkCode=ur2&amp;linkId=60b74555f1611d644d27d8b13f8b9418&amp;camp=15121&amp;creative=330641" target="_blank">Support me on Amazon</a>