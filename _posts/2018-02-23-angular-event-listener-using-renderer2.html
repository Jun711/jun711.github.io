---
layout: single
title: "#Angular #event listener using Renderer2 and HostListener "
date: '2018-02-23T18:06:00.002-08:00'
author: Jun
tags:
- Angular
- DOM events
modified_time: '2018-04-09T23:24:33.005-07:00'
thumbnail: https://2.bp.blogspot.com/-tF3mBCFjzU8/WpDH33C-xbI/AAAAAAAAAj4/XVvyjpaXnCUXHnuntBVL7lMJwKW3NJQIQCLcBGAs/s72-c/addEventListener.png
blogger_id: tag:blogger.com,1999:blog-2993513364068924658.post-6157113763836319938
blogger_orig_url: https://www.language-diary.com/2018/02/angular-event-listener-using-renderer2.html
---

What is the list of events that you can attach to your HTML elements? They are basically DOM events. I got the following list of DOM events from MDN.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://2.bp.blogspot.com/-tF3mBCFjzU8/WpDH33C-xbI/AAAAAAAAAj4/XVvyjpaXnCUXHnuntBVL7lMJwKW3NJQIQCLcBGAs/s1600/addEventListener.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img alt="addEventListener" border="0" data-original-height="641" data-original-width="1418" height="288" src="https://2.bp.blogspot.com/-tF3mBCFjzU8/WpDH33C-xbI/AAAAAAAAAj4/XVvyjpaXnCUXHnuntBVL7lMJwKW3NJQIQCLcBGAs/s640/addEventListener.png" title="addEventListener" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">addEventListener</td></tr></tbody></table><h3><a href="https://developer.mozilla.org/en-US/docs/Web/API/EventListener" target="_blank">DOM events on MDN</a></h3>Check out the following list of events on MDN:<br />abort<br />beforeinput<br />blur<br />click<br />compositionstart<br />compositionupdate<br />compositionend<br />dblclick<br />error<br />focus<br />focusin<br />focusout<br />input<br />keydown<br />keypress<br />keyup<br />load<br />mousedown<br />mouseenter<br />mouseleave<br />mousemove<br />mouseout<br />mouseover<br />mouseup<br />resize<br />scroll<br />select<br />unload<br />wheel<br /><h3>How to listen for these events?</h3>1) You can then listen for them like so if you use Angular.<br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="border-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.15); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;"><span style="background-color: #fbfaf8;">&lt;div role='Listbox' </span><span style="background-color: yellow;">(keyup)</span><span style="background-color: #fbfaf8;">='handleKeyUpEvent($event)' </span><span style="background-color: yellow;">(keydown)</span><span style="background-color: #fbfaf8;">='handleKeyDownEvent($event)'&gt;</span></span></div><div><span style="font-family: &quot;monaco&quot;;"><span style="background-color: #fbfaf8;">&nbsp;&nbsp;&lt;span tabIndex='1' </span><span style="background-color: yellow;">(blur)</span><span style="background-color: #fbfaf8;">='listBlur()' </span><span style="background-color: yellow;">(click)</span><span style="background-color: #fbfaf8;">='listActivated()'</span></span></div><div><span style="font-family: &quot;monaco&quot;;"><span style="background-color: #fbfaf8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="background-color: yellow;">(click)</span><span style="background-color: #fbfaf8;">='toggleDropDownList()'</span></span></div><div style="background-color: #fbfaf8;"><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ngClass]='titleClasses'&gt;{{ "{{" }}title || 'DropDownList'}}&lt;/span&gt;</span></div><div style="background-color: #fbfaf8;"><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&lt;ul role='List' [ngClass]='listClasses'&gt;</span></div><div style="background-color: #fbfaf8;"><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;li</span></div><div style="background-color: #fbfaf8;"><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;role='Listitem'</span></div><div><span style="font-family: &quot;monaco&quot;;"><span style="background-color: #fbfaf8;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="background-color: yellow;">(click)</span><span style="background-color: #fbfaf8;">='selectItem(item)'</span></span></div><div style="background-color: #fbfaf8;"><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*ngFor='let item of listItems; let i = index'</span></div><div style="background-color: #fbfaf8;"><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[class.selected]='i === activeIndex'</span></div><div style="background-color: #fbfaf8;"><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[selected]='i === activeIndex'&gt;{{ "{{" }}i + 1}}: {{ "{{" }}item.data}}</span></div><div style="background-color: #fbfaf8;"><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/li&gt;</span></div><div style="background-color: #fbfaf8;"><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&lt;/ul&gt;</span></div><div><span style="font-family: &quot;monaco&quot;;"><span style="background-color: #fbfaf8;">&nbsp;&nbsp;&lt;span [ngClass]='clearClasses' </span><span style="background-color: yellow;">(click)</span><span style="background-color: #fbfaf8;">='deselectItem()'&gt;Clear&lt;/span&gt;</span></span></div><div style="background-color: #fbfaf8;"><span style="font-family: &quot;monaco&quot;;">&lt;/div&gt;</span></div></div><br />2) Using Renderer2<br />You can check out this <a href="http://plnkr.co/edit/P4RkT7w9yHwZrc8LuEGh?p=preview" target="_blank">Angular Renderer2 plunkr</a> fork what I found to see how to use Renderer2 to listen for some events.<br /><div><br /></div><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">import {Component, NgModule, Renderer2, ViewChild} from '@angular/core'</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">import {BrowserModule} from '@angular/platform-browser'</span></div><div><br style="color: #333333; font-family: Monaco; font-size: 12px;" /></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">@Component({</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp;&nbsp;selector: 'my-app',</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp;&nbsp;template: `</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;button #myButton&gt;Click me&lt;/button&gt;</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp;&nbsp;`,</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">})</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">export class App {</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp;&nbsp;@ViewChild('<span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">myButton</span>') <span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">myButton</span>;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp; documentClick;&nbsp;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;<span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">buttonClick;&nbsp;</span></span></div><div><span style="font-family: &quot;monaco&quot;;"><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;"><br /></span></span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp;&nbsp;constructor(private renderer: Renderer2) {</span><span style="font-family: &quot;monaco&quot;;">}</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp;&nbsp;</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp;&nbsp;ngOnInit() {</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp; &nbsp; <span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">documentClick&nbsp;</span>= this.renderer.listen('document', 'click', (evt) =&gt; {</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log('Clicking the document', evt);</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp;&nbsp;&nbsp;&nbsp;})</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp; &nbsp;</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp; &nbsp; buttonClick = this.renderer.listen(this.myButton.nativeElement, 'click', (evt) =&gt; {</span><span style="font-family: &quot;monaco&quot;;">&nbsp; &nbsp; &nbsp;&nbsp;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp; &nbsp; &nbsp; console.log('Clicking the button', evt);</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp;&nbsp;&nbsp;&nbsp;});</span><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp;&nbsp;}</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;"><br /></span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp;&nbsp;<span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">ngOnDestroy() {</span></span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;"><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp; &nbsp; documentClick(); // to unsubscribe</span></span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;"><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp; &nbsp; buttonClick(); // to unsubscribe</span></span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;"><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">&nbsp; }</span></span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;; font-size: 12px;">}</span></div></div><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><br />3) Using HostListener with a directive<br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br />Then, HostListener of the Click Directive will listen for click event of its host and call the onClick function.<br />HostListener can listen for custom events as well.<br /><br /><div>ClickDirective file</div><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">import { Directive, HostListener } from '@angular/core';</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">@Directive({</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;selector: '[onClick]'</span></div><div><span style="font-family: &quot;monaco&quot;;">})</span></div><div><span style="font-family: &quot;monaco&quot;;">export class ClickDirective {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;constructor() { }</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;@HostListener('click', ['$event'])</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;onClick(event: UIEvent): void {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp; &nbsp; console.log(event)</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp; &nbsp; // do something</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;;">}</span></div></div><br /><div>Use the directive in a component </div><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">import { Component } from '@angular/core';</span></div><div><span style="font-family: &quot;monaco&quot;;">import { ClickDirective } from './directives/click.directive';</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">@Component({</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;selector: 'app',</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;template: `</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&lt;p onClick&gt;Click here&lt;/p&gt;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;`,</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;directives: [ClickDirective]</span></div><div><span style="font-family: &quot;monaco&quot;;">})</span></div><div><span style="font-family: &quot;monaco&quot;;">export class AppComponent { }</span></div></div><br /><h3>Note</h3>1) I believe there is&nbsp;<a href="https://angular.io/api/core/ElementRef" target="_blank">ElementRef</a>&nbsp;but it is deprecated or will be deprecated so you shouldn't use it.<br /><br />2) I was looking for a way to listen for events with once, capture or passive option but I haven't found a way yet. I will update once I find it.<br /><br />Thanks for reading!<br /><br /><a href="http://www.language-diary.com/p/jun711-language-diary.html" target="_blank">Jun</a><br /><br />