---
layout: single
title: "#JavaScript: (a == 1 && a == 2 && a == 3) == true? "
date: '2018-03-21T19:18:00.000-07:00'
author: Jun
tags:
- JavaScript
modified_time: '2018-04-10T00:09:14.381-07:00'
thumbnail: https://3.bp.blogspot.com/-4cR_5uWXCd0/WqC2gg0AQUI/AAAAAAAAAl8/Nn6bWgzJm-ISeV-O9BxW6zhy4g9S9iNcwCLcBGAs/s72-c/stackoverflow-javascript-a-1-a-2-a-3-true.png
blogger_id: tag:blogger.com,1999:blog-2993513364068924658.post-1832078185377231364
blogger_orig_url: https://www.language-diary.com/2018/03/javascript-1-2-3-true.html
---

I came across this highly rated&nbsp;<a href="https://stackoverflow.com/questions/48270127/can-a-1-a-2-a-3-ever-evaluate-to-true" target="_blank">can-a-1-a-2-a-3-ever-evaluate-to-true&nbsp;stackoverflow</a> post about a month ago. It really opened my eyes on the number of possible solutions. Thus, I would like to share with you.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://3.bp.blogspot.com/-4cR_5uWXCd0/WqC2gg0AQUI/AAAAAAAAAl8/Nn6bWgzJm-ISeV-O9BxW6zhy4g9S9iNcwCLcBGAs/s1600/stackoverflow-javascript-a-1-a-2-a-3-true.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img alt="StackOverflow Question" border="0" data-original-height="609" data-original-width="1090" height="356" src="https://3.bp.blogspot.com/-4cR_5uWXCd0/WqC2gg0AQUI/AAAAAAAAAl8/Nn6bWgzJm-ISeV-O9BxW6zhy4g9S9iNcwCLcBGAs/s640/stackoverflow-javascript-a-1-a-2-a-3-true.png" title="StackOverflow Question" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">StackOverflow Question</td></tr></tbody></table><h3>Question</h3><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><span style="font-family: &quot;monaco&quot;;">Is it ever possible that (a== 1 &amp;&amp; a ==2 &amp;&amp; a==3) could evaluate to true in JavaScript?</span></div><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><h3>Possible Solutions</h3><div>1) Using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Equality_comparisons_and_sameness#Loose_equality_using" target="_blank">Loose equality ==</a> and Object's prototype method <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/valueOf" target="_blank">valueOf</a> or&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/toString" target="_blank">toString</a><br /><div><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div><br /></div><div style="background-color: #fbfaf8; border-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.15); box-sizing: border-box; padding: 8px;"><div style="color: #333333; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px;"><div><span style="font-family: &quot;monaco&quot;;">const a = {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp; value: 1,</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;valueOf: function () {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;return a.value++;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;}</span></div><div style="color: black; font-family: Times; font-size: medium;"><span style="color: #333333; font-family: &quot;monaco&quot;;"><span style="font-size: 12px;">}</span></span></div></div><div style="color: #333333; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px;"><span style="font-family: &quot;monaco&quot;;"><br /></span></div><div style="color: #333333; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px;"><span style="font-family: &quot;monaco&quot;;">OR&nbsp;</span></div><div style="color: #333333; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px;"><span style="font-family: &quot;monaco&quot;;"><br /></span></div><div style="color: #333333; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px;"><span style="font-family: &quot;monaco&quot;;">const a = {</span></div><div style="color: #333333; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px;"><span style="font-family: &quot;monaco&quot;;">&nbsp; value: 1,</span></div><div style="color: #333333; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px;"><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;toString: function () {</span></div><div style="color: #333333; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px;"><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;return a.value++;</span></div><div style="color: #333333; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px;"><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;}</span></div><div style="color: #333333; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px;"><span style="font-family: &quot;monaco&quot;;">}</span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;"><span style="font-size: 12px;"><br /></span></span> <br /><div><span style="color: #333333; font-family: &quot;monaco&quot;;"><span style="font-size: 12px;">if (a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3) {</span></span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;"><span style="font-size: 12px;">&nbsp; console.log('It works!');</span></span></div><div><span style="color: #333333; font-family: &quot;monaco&quot;;"><span style="font-size: 12px;">}</span></span></div></div></div></div></div><br />How does this work?<br />When a (an object) is being compared to 1 (a number) on the right, JavaScript engine will try to convert the type of the operand(due to loose equality) so that they are comparable.&nbsp; First, valueOf will be called, if it fails, toString will be called. When the type of both operands are the same, it will do equality check.<br /><br />In this case, whenever an equality check is done, a.value is being increased and thus resulting in a == 1, a == 2, a == 3 and so on.<br /><br />Another variations of defining valueOf<br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div><br /></div><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">function A() {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;var value = 0;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;this.valueOf = function () { return ++value; };</span></div><div><span style="font-family: &quot;monaco&quot;;">}</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">var a = new A();</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">if (a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3) {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;console.log(</span><span style="font-family: &quot;monaco&quot;;">'</span><span style="font-family: &quot;monaco&quot;;">It works!</span><span style="font-family: &quot;monaco&quot;;">'</span><span style="font-family: &quot;monaco&quot;;">);</span></div><div><span style="font-family: &quot;monaco&quot;;">}</span></div></div><div><br /></div><div>ES6 class</div><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">class A {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;constructor() {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;this.value = 0;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;this.valueOf();</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;valueOf() {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;return this.value++;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;};</span></div><div><span style="font-family: &quot;monaco&quot;;">}</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">let a = new A();</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">if (a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3) {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;console.log(</span><span style="font-family: &quot;monaco&quot;;">'</span><span style="font-family: &quot;monaco&quot;;">It works!</span><span style="font-family: &quot;monaco&quot;;">'</span><span style="font-family: &quot;monaco&quot;;">);<br />}</span></div></div><br /><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toPrimitive" target="_blank">Symbol.toPrimitive</a><br />From MDN: It is a symbol that specifies a function valued property that is called to convert an object to a corresponding primitive value.<br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">let a = {<br />&nbsp; [Symbol.toPrimitive]: ((i) =&gt; () =&gt; ++i) (0)</span></div><div><span style="font-family: &quot;monaco&quot;;">};</span></div><div><br style="font-family: Monaco;" /></div><div><div><span style="font-family: &quot;monaco&quot;;">if (a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3) {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;console.log(</span><span style="font-family: &quot;monaco&quot;;">'</span><span style="font-family: &quot;monaco&quot;;">It works!</span><span style="font-family: &quot;monaco&quot;;">'</span><span style="font-family: &quot;monaco&quot;;">);<br />}</span></div></div></div><br />An example of Symbol.toPrimitive() taken from MDN<br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">// An object with Symbol.toPrimitive property.</span></div><div><span style="font-family: &quot;monaco&quot;;">var obj2 = {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;[Symbol.toPrimitive](hint) {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;if (hint == 'number') {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 10;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;if (hint == 'string') {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 'hello';</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;return true;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;;">};</span></div><div><span style="font-family: &quot;monaco&quot;;">console.log(+obj2);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// 10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- hint is "number"</span></div><div><span style="font-family: &quot;monaco&quot;;">console.log(`${obj2}`); // "hello"&nbsp;&nbsp;&nbsp;-- hint is "string"</span></div><div><span style="font-family: &quot;monaco&quot;;">console.log(obj2 + ''); // "true"&nbsp;&nbsp;&nbsp;&nbsp;-- hint is "default"</span></div></div><br />2) Using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/pop" target="_blank">pop</a> with an array and Object's prototype method&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/valueOf" target="_blank">valueOf</a><br />Array.prototype.pop() removes and returns the last item from the array.<br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">const a = {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp; arr: [3,2,1],</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;toString: function () {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;return a.arr.pop();</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;;">}</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">if (a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3) {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;console.log(</span><span style="font-family: &quot;monaco&quot;;">'</span><span style="font-family: &quot;monaco&quot;;">It works!</span><span style="font-family: &quot;monaco&quot;;">'</span><span style="font-family: &quot;monaco&quot;;">);</span></div><div><span style="font-family: &quot;monaco&quot;;">}</span></div></div><br />3) Using&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Equality_comparisons_and_sameness#Loose_equality_using" target="_blank">Loose equality ==</a>&nbsp;and&nbsp;Overriding array&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/join" target="_blank">join</a>&nbsp;function with array&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/shift" target="_blank">shift</a>&nbsp;function<br />In this case, when a is being compared, it will be converted to a string which is done via join. However, since join had been overrode by shift. It essentially removes and returns the first element in the array.<br /><br /><div style="background-color: #fbfaf8; border-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.15); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">a = [1,2,3];</span></div><div><span style="font-family: &quot;monaco&quot;;">a.join = a.shift;</span></div><div><br /></div><div><span style="font-family: &quot;monaco&quot;;">if (a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3) {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;console.log(</span><span style="font-family: &quot;monaco&quot;;">'</span><span style="font-family: &quot;monaco&quot;;">It works!</span><span style="font-family: &quot;monaco&quot;;">'</span><span style="font-family: &quot;monaco&quot;;">);</span></div><div><span style="font-family: &quot;monaco&quot;;">}</span></div></div><br />4)&nbsp; <a href="http://www.language-diary.com/2018/03/javascript-objectdefineproperty.html" target="_blank">Object.defineProperty</a> with an <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty#Description" target="_blank">accessor descriptor</a><br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">var value = 0;</span></div><div><span style="font-family: &quot;monaco&quot;;">Object.defineProperty(window, 'a', {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;get: function() {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;return ++value;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;;">});</span></div><div><span style="font-family: &quot;monaco&quot;;">if (a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3) {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;console.log('</span><span style="font-family: &quot;monaco&quot;;">It works!</span><span style="font-family: &quot;monaco&quot;;">');</span></div><div><span style="font-family: &quot;monaco&quot;;">}</span></div></div><br />Using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/with" target="_blank">with</a> which is not recommended.&nbsp;with states the main object / scope of the enclosing statements<br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">var value = 0;</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">with({</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;get a() {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;return ++value;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;;">}) {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;if (a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3)</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;console.log(</span><span style="font-family: &quot;monaco&quot;;">'</span><span style="font-family: &quot;monaco&quot;;">It works!</span><span style="font-family: &quot;monaco&quot;;">'</span><span style="font-family: &quot;monaco&quot;;">);</span></div><div><span style="font-family: &quot;monaco&quot;;">}</span></div></div><br />getter function of 'a' increases its value everytime its value is retrieved.<br /><br />5) Using self-overwriting getter functions<br />In this case, it is essentially reset / overwrite its getter function the first three times variable 'a' is called.<br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">(() =&gt; {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp; &nbsp; 'use strict';</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;Object.defineProperty(this, 'a', {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp; &nbsp; &nbsp; &nbsp; 'get': () =&gt; {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Object.defineProperty(this, 'a', {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'get': () =&gt; {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Object.defineProperty(this, 'a', {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'get': () =&gt; {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 3;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 2;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configurable: true</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 1;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configurable: true</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;});</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;if (a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3) {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.body.append(</span><span style="font-family: &quot;monaco&quot;;">'</span><span style="font-family: &quot;monaco&quot;;">It works!</span><span style="font-family: &quot;monaco&quot;;">'</span><span style="font-family: &quot;monaco&quot;;">);</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;;">})();</span></div></div><br />6) <a href="https://en.wikipedia.org/wiki/Halfwidth_and_fullwidth_forms" target="_blank">Halfwidth and fullwidth forms</a>:ａｂｃ<br />Taken from Wikipedia:<br />In CJK (Chinese, Japanese and Korean) computing, graphic characters are traditionally classed into fullwidth&nbsp;and halfwidth&nbsp;characters.&nbsp;With fixed-width fonts, a halfwidth character occupies half the width of a fullwidth character, hence the name.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://3.bp.blogspot.com/-RuVu1nVoJiI/WqDlMrpUk9I/AAAAAAAAAnc/NM2nyEq-XwwgUIk6Pe5sus9IbNl42eS6gCLcBGAs/s1600/fullwidth-halfwidth.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="240" data-original-width="214" src="https://3.bp.blogspot.com/-RuVu1nVoJiI/WqDlMrpUk9I/AAAAAAAAAnc/NM2nyEq-XwwgUIk6Pe5sus9IbNl42eS6gCLcBGAs/s1600/fullwidth-halfwidth.png" /></a></div><div style="text-align: left;"><br /></div><div style="text-align: left;">This is essentially saying these 3 looking alike 'a' variables are technically 3 different characters with space before, after and no space around the character 'a'.&nbsp;</div><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">var a_ = 1;</span></div><div><span style="font-family: &quot;monaco&quot;;">var a = 2;</span></div><div><span style="font-family: &quot;monaco&quot;;">var _a = 3;</span></div><div><span style="font-family: &quot;monaco&quot;;">if (a_==1 &amp;&amp; a== 2 &amp;&amp;_a==3) {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;console.log(</span><span style="font-family: &quot;monaco&quot;;">'</span><span style="font-family: &quot;monaco&quot;;">It works!</span><span style="font-family: &quot;monaco&quot;;">'</span><span style="font-family: &quot;monaco&quot;;">)</span></div><div><span style="font-family: &quot;monaco&quot;;">}</span></div></div><br />You can use this <a href="https://mothereff.in/js-variables#%EF%BE%A0%E1%85%A0%E1%85%9F" target="_blank">string validator by Mathias</a> to validate if a string is valid in JavaScript<br /><br />7) <a href="https://en.wikipedia.org/wiki/Zero-width_joiner" target="_blank">Zero-width joiner</a><br /><div>In this case, they are essentially visually alike characters but they contain zero-width character(s) which are invisible.</div><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">var a= 1;</span></div><div><span style="font-family: &quot;monaco&quot;;">var a‍= 2; //one zero-width character</span></div><div><span style="font-family: &quot;monaco&quot;;">var a‍‍= 3; //two zero-width characters (or you can use the other one)</span></div><div><span style="font-family: &quot;monaco&quot;;">if (a==1 &amp;&amp; a‍==2 &amp;&amp; a‍‍==3) {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;console.log(</span><span style="font-family: &quot;monaco&quot;;">'</span><span style="font-family: &quot;monaco&quot;;">It works!</span><span style="font-family: &quot;monaco&quot;;">'</span><span style="font-family: &quot;monaco&quot;;">)</span></div><div><span style="font-family: &quot;monaco&quot;;">}</span></div></div><br />Check out this&nbsp;<a href="https://reverseengineering.stackexchange.com/questions/53/obfuscating-javascript-with-zero-width-characters-pros-and-cons" target="_blank">StackOverflow thread</a>&nbsp;for another example<br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">var ab, /* ab */</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;a‍b, /* a&amp;zwj;b */</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;a‌b; /* a&amp;zwnj;b */</span></div></div><br />8) <a href="http://variation%20selectors/" target="_blank">Unicode Variant Selectors</a>&nbsp;/ homoglyphs<br />Taken from Wikipedia:<br />Variation Selectors is a Unicode block containing 16 Variation Selector format characters (designated VS1 through VS16). They are used to specify a specific glyph variant for a Unicode character.<br />A set of unicode character variations is essentially&nbsp; a set of looking very similar visually characters.<br /><br />9) Using Regex with global flag<br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div>This is quite tricky as it works because of global flag. Every time a match is found, the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/lastIndex" target="_blank">lastIndex</a> of the regex match is updated. This causes the next search steps forward one digit after each match.&nbsp;</div><div>The first match is&nbsp;this.r.lastIndex == 0</div><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">var a = {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;r: /\d/g,</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;valueOf: function(){</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;return this.r.exec(123)[0]</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;;">}</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">if (a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3) {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;console.log(</span><span style="font-family: &quot;monaco&quot;;">'</span><span style="font-family: &quot;monaco&quot;;">It works!</span><span style="font-family: &quot;monaco&quot;;">'</span><span style="font-family: &quot;monaco&quot;;">)<br />}</span></div></div><br />10) Using a&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Iterators_and_Generators" target="_blank">generator</a><br />Taken from MDN:<br />Generator:&nbsp;allows us to define an iterative algorithm by writing a single function which can maintain its own state.<br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">const value = function* () {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;let i = 0;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;while(true) yield ++i;</span></div><div><span style="font-family: &quot;monaco&quot;;">}();</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">Object.defineProperty(window, 'a', {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;get() {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;return value.next().value;</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;;">});</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">if (a === 1 &amp;&amp; a === 2 &amp;&amp; a === 3) {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;console.log(</span><span style="font-family: &quot;monaco&quot;;">'</span><span style="font-family: &quot;monaco&quot;;">It works!</span><span style="font-family: &quot;monaco&quot;;">'</span><span style="font-family: &quot;monaco&quot;;">);</span></div><div><span style="font-family: &quot;monaco&quot;;">}</span></div></div><br />11) <a href="https://stackoverflow.com/a/48295891/5042169" target="_blank">Multi-threading possible bug</a><br />The author mentioned that on one of his attempts, it happened after 10 billion iterations.<br />main.js<br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">// Main Thread</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">const worker = new Worker('worker.js')</span></div><div><span style="font-family: &quot;monaco&quot;;">const modifiers = [new Worker('modifier.js'), new Worker('modifier.js')] // Let's use 2 workers</span></div><div><span style="font-family: &quot;monaco&quot;;">const sab = new SharedArrayBuffer(1)</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">modifiers.forEach(m =&gt; m.postMessage(sab))</span></div><div><span style="font-family: &quot;monaco&quot;;">worker.postMessage(sab)</span></div></div><br /><span style="background-color: white; color: #242729; font-family: &quot;arial&quot; , &quot;helvetica neue&quot; , &quot;helvetica&quot; , sans-serif; font-size: 15px;">worker.js</span><br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">let array</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">Object.defineProperty(self, 'a', {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;get() {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;return array[0]</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;}</span></div><div><span style="font-family: &quot;monaco&quot;;">});</span></div><div><br style="font-family: Monaco;" /></div><div><span style="font-family: &quot;monaco&quot;;">addEventListener('message', ({data}) =&gt; {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;array = new Uint8Array(data)</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;let count = 0</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;do {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var res = a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++count</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;} while(res == false) // just for clarity. !res is fine</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;console.log(`It happened after ${count} iterations`)</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;console.log('You should\'ve never seen this')</span></div><div><span style="font-family: &quot;monaco&quot;;">})</span></div></div><br /><span style="background-color: white; color: #242729; font-family: &quot;arial&quot; , &quot;helvetica neue&quot; , &quot;helvetica&quot; , sans-serif; font-size: 15px;">modifier.js</span><br /><!--?xml version="1.0" encoding="UTF-8"?-->  <br /><div style="-en-codeblock: true; background-color: #fbfaf8; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); box-sizing: border-box; color: #333333; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; padding: 8px;"><div><span style="font-family: &quot;monaco&quot;;">addEventListener('message' , ({data}) =&gt; {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;setInterval( () =&gt; {</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new Uint8Array(data)[0] = Math.floor(Math.random()*3) + 1</span></div><div><span style="font-family: &quot;monaco&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;})</span></div><div><span style="font-family: &quot;monaco&quot;;">})</span></div></div><h3>Summary</h3>There was <a href="https://stackoverflow.com/a/48301772/5042169" target="_blank">this answer</a> that summarized the mentioned solutions into<br />i) Encoding issue<br />ii) Multi-threading issue - race condition (using web workers) which was <a href="https://stackoverflow.com/a/48295891/5042169" target="_blank">this answer</a><br />iii) Side-effects of equality comparison operation<br /><br />Thank you for reading!<br /><br /><a href="http://www.language-diary.com/p/jun711-language-diary.html" target="_blank">Jun</a><br /><br />